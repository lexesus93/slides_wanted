# üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenRouter.ai

## üéØ –û–±–∑–æ—Ä

OpenRouter.ai –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ—Ç–Ω—è–º AI –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ –æ–¥–∏–Ω endpoint, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—è fallback –∏ –≤—ã–±–∏—Ä–∞—è –Ω–∞–∏–±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ OpenRouter.ai

### ‚úÖ **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **üéØ –ï–¥–∏–Ω—ã–π API** - –¥–æ—Å—Ç—É–ø –∫ —Å–æ—Ç–Ω—è–º –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ –æ–¥–∏–Ω endpoint
- **üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –Ω–∞–∏–±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- **üîÑ Fallback** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–±–æ—è—Ö
- **üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **üîí –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å** - –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
- **‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫

### üÜö **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä—è–º—ã–º OpenAI:**

| –ê—Å–ø–µ–∫—Ç | OpenAI Direct | OpenRouter.ai |
|--------|---------------|---------------|
| **–ú–æ–¥–µ–ª–∏** | –¢–æ–ª—å–∫–æ OpenAI | 100+ –º–æ–¥–µ–ª–µ–π –æ—Ç —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
| **Fallback** | –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π |
| **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** | –ë–∞–∑–æ–≤—ã–π | –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ |
| **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å** | OpenAI –ª–æ–≥–∏ | –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenRouter.ai

### 1. **–ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [OpenRouter.ai](https://openrouter.ai/)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [API Keys](https://openrouter.ai/keys)
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á

### 2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞**
```bash
# –í–∫–ª—é—á–∏—Ç—å OpenRouter.ai
OPENROUTER_ENABLED=true

# API –∫–ª—é—á OpenRouter
OPENROUTER_API_KEY=your_openrouter_api_key_here

# –ú–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
OPENROUTER_DEFAULT_MODEL=openai/gpt-4o

# Fallback –º–æ–¥–µ–ª–∏
OPENROUTER_FALLBACK_MODELS=anthropic/claude-3.5-sonnet,meta-llama/llama-3.1-8b-instruct,google/gemini-pro

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
OPENROUTER_SITE_URL=http://localhost:3001
OPENROUTER_SITE_NAME=AI Presentation Builder

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
OPENROUTER_AUTO_SELECTION=true
OPENROUTER_COST_OPTIMIZATION=true
OPENROUTER_LATENCY_OPTIMIZATION=true
```

### 3. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OpenRouter –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
AI_DEFAULT_PROVIDER=openrouter

# –í–∫–ª—é—á–∏—Ç—å fallback –º–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
AI_FALLBACK_ENABLED=true

# –ü–æ—Ä—è–¥–æ–∫ fallback
AI_FALLBACK_ORDER=openrouter,openai,anthropic
```

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. **–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ OpenRouter**
```typescript
import { aiProviderService } from '@/services/ai/ai-provider';

// –°–æ–∑–¥–∞–Ω–∏–µ completion
const response = await aiProviderService.createCompletion({
  messages: [
    { role: 'system', content: '–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π.' },
    { role: 'user', content: '–°–æ–∑–¥–∞–π —Å–ª–∞–π–¥ –æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞—Ö –ò–ò' }
  ],
  task: 'content_generation',
  temperature: 0.7
});

console.log('–û—Ç–≤–µ—Ç:', response.content);
console.log('–ú–æ–¥–µ–ª—å:', response.model);
console.log('–ü—Ä–æ–≤–∞–π–¥–µ—Ä:', response.provider);
console.log('–°—Ç–æ–∏–º–æ—Å—Ç—å:', response.metadata.cost);
```

### 2. **–ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ OpenRouter —Å–µ—Ä–≤–∏—Å–∞**
```typescript
import { openRouterService } from '@/services/ai/openrouter';

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
const models = await openRouterService.getModels();
console.log('–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏:', models.map(m => m.name));

// –°–æ–∑–¥–∞–Ω–∏–µ completion —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª—å—é
const response = await openRouterService.createCompletion(
  [
    { role: 'user', content: '–û–±—ä—è—Å–Ω–∏ –∫–≤–∞–Ω—Ç–æ–≤—É—é —Ñ–∏–∑–∏–∫—É –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏' }
  ],
  {
    model: 'anthropic/claude-3.5-sonnet',
    temperature: 0.3
  }
);

console.log('–û—Ç–≤–µ—Ç:', response.choices[0].message.content);
```

### 3. **Streaming completion**
```typescript
import { openRouterService } from '@/services/ai/openrouter';

// –°–æ–∑–¥–∞–Ω–∏–µ streaming completion
const stream = await openRouterService.createStreamingCompletion(
  [
    { role: 'user', content: '–ù–∞–ø–∏—à–∏ —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏–µ –æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö' }
  ],
  {
    model: 'openai/gpt-4o',
    temperature: 0.8
  }
);

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Ç–æ–∫–∞
const reader = stream.getReader();
while (true) {
  const { done, value } = await reader.read();
  if (done) break;
  
  const chunk = new TextDecoder().decode(value);
  const data = JSON.parse(chunk);
  
  if (data.choices?.[0]?.delta?.content) {
    process.stdout.write(data.choices[0].delta.content);
  }
}
```

### 4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏**
```typescript
import { openRouterService } from '@/services/ai/openrouter';

// –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
const model = await openRouterService.selectOptimalModel('content_generation', {
  maxCost: 0.01,        // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å $0.01
  maxLatency: 5000,     // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 5 —Å–µ–∫—É–Ω–¥
  minQuality: 'high'    // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ: –≤—ã—Å–æ–∫–æ–µ
});

console.log('–í—ã–±—Ä–∞–Ω–Ω–∞—è –º–æ–¥–µ–ª—å:', model);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏
const response = await openRouterService.createCompletion(
  messages,
  { model }
);
```

## üé® –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Canvas Editor

### 1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è —Å–ª–∞–π–¥–æ–≤**
```typescript
// –í Canvas Editor –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
const generateSlideContent = async (prompt: string) => {
  try {
    const response = await aiProviderService.createCompletion({
      messages: [
        { 
          role: 'system', 
          content: '–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –¥–∏–∑–∞–π–Ω—É –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π. –°–æ–∑–¥–∞–≤–∞–π –∫—Ä–∞—Ç–∫–∏–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è —Å–ª–∞–π–¥–æ–≤.' 
        },
        { role: 'user', content: prompt }
      ],
      task: 'content_generation',
      temperature: 0.7
    });

    // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∫ canvas
    applyContentToCanvas(response.content);
    
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:', error);
  }
};
```

### 2. **–ê–Ω–∞–ª–∏–∑ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ª–∞–π–∞—É—Ç–æ–≤**
```typescript
// –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –ª–∞–π–∞—É—Ç–∞ —Å–ª–∞–π–¥–∞
const analyzeLayout = async (canvasData: CanvasData) => {
  try {
    const response = await aiProviderService.createCompletion({
      messages: [
        {
          role: 'system',
          content: '–¢—ã —ç–∫—Å–ø–µ—Ä—Ç –ø–æ UX/UI –¥–∏–∑–∞–π–Ω—É. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –ª–∞–π–∞—É—Ç—ã —Å–ª–∞–π–¥–æ–≤ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–π —É–ª—É—á—à–µ–Ω–∏—è.'
        },
        {
          role: 'user',
          content: `–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —ç—Ç–æ—Ç –ª–∞–π–∞—É—Ç —Å–ª–∞–π–¥–∞: ${JSON.stringify(canvasData)}`
        }
      ],
      task: 'layout_analysis',
      temperature: 0.5
    });

    // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
    applyLayoutSuggestions(response.content);
    
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ –ª–∞–π–∞—É—Ç–∞:', error);
  }
};
```

## üîÑ Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏**
```typescript
// OpenRouter –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø—Ä–æ–±—É–µ—Ç fallback –º–æ–¥–µ–ª–∏
const response = await openRouterService.createCompletion(messages, {
  model: 'openai/gpt-4o' // –û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å
});

// –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø—Ä–æ–±—É–µ—Ç:
// 1. anthropic/claude-3.5-sonnet
// 2. meta-llama/llama-3.1-8b-instruct
// 3. google/gemini-pro
```

### 2. **Fallback –º–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏**
```typescript
// AI Provider Service –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –º–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
const response = await aiProviderService.createCompletion({
  messages,
  task: 'content_generation'
});

// –ü–æ—Ä—è–¥–æ–∫ –ø–æ–ø—ã—Ç–æ–∫:
// 1. openrouter (–æ—Å–Ω–æ–≤–Ω–æ–π)
// 2. openai (fallback)
// 3. anthropic (fallback)
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### 1. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
```typescript
import { openRouterService } from '@/services/ai/openrouter';

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const usageStats = await openRouterService.getUsageStats();
console.log('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ OpenRouter:', usageStats);

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫—Ä–µ–¥–∏—Ç–∞—Ö
const credits = await openRouterService.getCredits();
console.log('–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã:', credits);
```

### 2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤**
```typescript
import { aiProviderService } from '@/services/ai/ai-provider';

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
const health = await aiProviderService.healthCheck();
console.log('–°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:', health);
// {
//   openai: false,
//   openrouter: true,
//   anthropic: false
// }
```

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ OpenRouter**
```typescript
try {
  const response = await openRouterService.createCompletion(messages);
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
} catch (error: any) {
  if (error.message.includes('rate limit')) {
    // –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
    console.log('–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ');
  } else if (error.message.includes('quota exceeded')) {
    // –ü—Ä–µ–≤—ã—à–µ–Ω–∞ –∫–≤–æ—Ç–∞
    console.log('–ü—Ä–µ–≤—ã—à–µ–Ω–∞ –∫–≤–æ—Ç–∞, –ø–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å');
  } else {
    // –î—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏
    console.error('–û—à–∏–±–∫–∞ OpenRouter:', error.message);
  }
}
```

### 2. **Graceful degradation**
```typescript
// –ï—Å–ª–∏ OpenRouter –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ OpenAI
try {
  const response = await aiProviderService.createCompletion({
    messages,
    task: 'content_generation'
  });
  
  if (response.metadata.fallbackUsed) {
    console.log('–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω fallback –ø—Ä–æ–≤–∞–π–¥–µ—Ä:', response.provider);
  }
  
} catch (error) {
  // –í—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
  console.error('–í—Å–µ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã');
  // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
}
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### 1. **–ü—Ä–æ–¥–∞–∫—à–µ–Ω .env**
```bash
# OpenRouter.ai
OPENROUTER_ENABLED=true
OPENROUTER_API_KEY=sk-or-... # –ü—Ä–æ–¥–∞–∫—à–µ–Ω –∫–ª—é—á
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_DEFAULT_MODEL=openai/gpt-4o
OPENROUTER_FALLBACK_MODELS=anthropic/claude-3.5-sonnet,meta-llama/llama-3.1-8b-instruct

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
OPENROUTER_SITE_URL=https://yourdomain.com
OPENROUTER_SITE_NAME=Your App Name

# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
OPENROUTER_AUTO_SELECTION=true
OPENROUTER_COST_OPTIMIZATION=true
OPENROUTER_LATENCY_OPTIMIZATION=true

# AI Provider
AI_DEFAULT_PROVIDER=openrouter
AI_FALLBACK_ENABLED=true
AI_FALLBACK_ORDER=openrouter,openai,anthropic
```

### 2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ**
```typescript
// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö AI –∑–∞–ø—Ä–æ—Å–æ–≤
logger.info('AI Request', {
  provider: response.provider,
  model: response.model,
  task: request.task,
  tokens: response.usage.totalTokens,
  cost: response.metadata.cost,
  latency: response.metadata.latency,
  fallbackUsed: response.metadata.fallbackUsed
});
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [OpenRouter.ai Documentation](https://openrouter.ai/docs)
- [OpenRouter API Reference](https://openrouter.ai/docs/api)
- [OpenRouter Models](https://openrouter.ai/models)
- [OpenRouter Pricing](https://openrouter.ai/pricing)
- [OpenRouter Community](https://openrouter.ai/community)

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenRouter.ai –≤ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

1. **üéØ –ì–∏–±–∫–æ—Å—Ç—å** - –¥–æ—Å—Ç—É–ø –∫ –º–Ω–æ–∂–µ—Å—Ç–≤—É AI –º–æ–¥–µ–ª–µ–π
2. **üí∞ –≠–∫–æ–Ω–æ–º–∏—é** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏
3. **üîÑ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
4. **üìä –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
5. **üîí –ö–æ–Ω—Ç—Ä–æ–ª—å** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å—é –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

OpenRouter.ai —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–ª–∏—á–Ω–æ–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π –ø—Ä—è–º–æ–º—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—é —Å OpenAI, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –≥–∏–±–∫–æ—Å—Ç–∏ –≤ –≤—ã–±–æ—Ä–µ AI –º–æ–¥–µ–ª–µ–π –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞—Ç—Ä–∞—Ç.
